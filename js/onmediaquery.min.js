/*
 * onMediaQuery
 * http://springload.co.nz/love-the-web/
 *
 * Copyright 2012, Springload
 * Released under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 *
 * Date: Tue 1 May, 2012
 */

var MQ=function(b){b=b||{};b.init=function(a){this.callbacks=[];this.context="";if("undefined"!==typeof a)for(i=0;i<a.length;i++)this.addQuery(a[i]);this.addEvent(window,"resize","listenForChange",b);this.listenForChange()};b.listenForChange=function(){var a;a=window.getComputedStyle(document.body,":after").getPropertyValue("content");a=a.replace(/[^A-Za-z\s\-]+/g,"");a!==this.context&&this.triggerCallbacks(a);this.context=a};b.addQuery=function(a){if(!(null==a||void 0==a))return this.callbacks.push(a), this.callbacks[this.callbacks.length-1]};b.removeQuery=function(a){if(!(null==a||void 0==a))for(var c=-1;-1<(c=this.callbacks.indexOf(a));)this.callbacks.splice(c,1)};b.triggerCallbacks=function(a){var c,b;for(c=0;c<this.callbacks.length;c++)b=this.callbacks[c].callback,this.callbacks[c].context===a&&void 0!==b&&b()};b.addEvent=function(a,b,d,e){null==a||void 0==a||(a.addEventListener?a.addEventListener(b,function(){e[d]()},!1):a.attachEvent?a.attachEvent("on"+b,function(){e[d]()}):a["on"+b]=function(){e[d]()})}; return b}(MQ||{});